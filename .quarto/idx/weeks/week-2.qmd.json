{"title":"3 Data Visualisation","markdown":{"yaml":{"title":"3 Data Visualisation","code-copy":true,"code-line-numbers":true,"tidy":true,"code-annotations":true},"headingText":"3.1 Introduction to data visualisation","containsRefs":false,"markdown":"\n\n\nData visualisation is an important skill for data scientists. In fact, data manipulation and visualisations go hand in hand. Before any analysis, it is important to visualise data to explore its distribution, relationships, normality, etc.\n\nWe will be working with `matplotlib` library within Python for data visualistion. Although there are many other packages, `matplotlib` is the foundational library. Thus it is important to master `matplotlib` first before exploring other advanced libraries. You can import matplotlib as follows. We will also need the pandas package to read data:\n\n```{python}\nimport matplotlib.pyplot as plt\n\nimport pandas as pd\n```\n\nWe will be working with the `gapminder` dataset, which is the real world data. I have saved this data as a CSV (comma-separated values) file on GitHub. A CSV file is a text file used to store data in a tabular format. You will use `.read_csv()` function from pandas to read this file and assign it to `gapminder`:\n\n```{python}\n\ngapminder = pd.read_csv(\"https://raw.githubusercontent.com/aubreympungose/data-science-course/main/weeks/data/gapminder.csv\")\n\n# Take a look at the first observation of the data\ngapminder.head()\n```\n\nWe have loaded the dataset. You can see columns and rows.\n\n```{python}\ngapminder.info()\n```\n\nWe can see that `gapminder` has 6 columns and 1704 rows. The columns in the dataset are:\n\n- country: Simply the country\n\n- continent: Continent\n\n- year: The year data was collected\n\n- lifeExp: Life expectancy of a country in year\n\n- pop: Population of the country in a year\n\n- gdpPercap: Gross Domestic Product of a country in a year\n\nIt is a time series data that track countries. Look at the range of years:\n\n```{python}\nprint(gapminder[\"year\"].min())\n\nprint(gapminder[\"year\"].max())\n```\n\nThe datasets contain observations collected from 1952 to 2007. \n\n\n### A first plot\n\nSuppose you want to show relationship between life expectancy and GDP per capita. We can create a scatterplot:\n\n```{python}\nplt.scatter(x = gapminder[\"gdpPercap\"], y = gapminder[\"lifeExp\"])\n\nplt.show()\n```\n\nWe have created a first plot. Let examine the code above:\n\n- We used `scatter()` function from pylot sub-package of matplotlib\n\n- We specified that we need the to plot two columns: `gdpPercap` on x-axis and `lifeExp` on the y-axis. \n\n- We then used `.show()` function from pyplot to show the plot. \n\n### Labels\n\nNotice that our first plot does not have any labels on the both axis, and also does not have a title. We can add all of these:\n\n```{python}\nplt.scatter(x = gapminder[\"gdpPercap\"], y = gapminder[\"lifeExp\"])\n\n# Set x-axis labels \nplt.xlabel('GDP per capita')\n\n# Set y-axis\nplt.ylabel('Life expectancy')\n\n# set title of the plot\nplt.title('GDP vs Life Expectancy (1952-2007)')\n\n# show the plot\n\nplt.show()\n```\n\n### Transforming axis scales\n\nNotice that x-axis is not normally distributed. One of the method to use is to transform data to log10, to normnalise it:\n\n```{python}\nplt.scatter(x = gapminder[\"gdpPercap\"], y = gapminder[\"lifeExp\"])\n\nplt.xlabel('GDP per capita')\n\nplt.ylabel('Life expectancy')\n\nplt.title('GDP vs Life Expectancy (1952-2007)')\n\n# Apply log scale to x-axis\nplt.xscale('log')\n\n\nplt.show()\n```\n\n\n### Customise: colour, size, shape\n\nSometimes you may need to change how variables/data point appear. Suppose you want to make all the countries belonging to each continent to be of same colour. Here, you would need to create a dictionary where each continent name is a key and colour as a value, then create a plot\n\n\n```{python}\ncolour_dict = {\n    'Asia':'red',\n    'Europe':'green',\n    'Africa':'blue',\n    'Americas':'yellow',\n    'Oceania':'black'\n}\n\ncolors = [colour_dict[continent] for continent in gapminder['continent']]\n\nplt.scatter(gapminder['gdpPercap'], gapminder['lifeExp'], c=colors)\n\nplt.xlabel('GDP per capita')\n\nplt.ylabel('Life expectancy')\n\nplt.title('GDP vs Life Expectancy (1952-2007)')\n\nplt.xscale('log')\n\n\nplt.show()\n```","srcMarkdownNoYaml":"\n\n## 3.1 Introduction to data visualisation\n\nData visualisation is an important skill for data scientists. In fact, data manipulation and visualisations go hand in hand. Before any analysis, it is important to visualise data to explore its distribution, relationships, normality, etc.\n\nWe will be working with `matplotlib` library within Python for data visualistion. Although there are many other packages, `matplotlib` is the foundational library. Thus it is important to master `matplotlib` first before exploring other advanced libraries. You can import matplotlib as follows. We will also need the pandas package to read data:\n\n```{python}\nimport matplotlib.pyplot as plt\n\nimport pandas as pd\n```\n\nWe will be working with the `gapminder` dataset, which is the real world data. I have saved this data as a CSV (comma-separated values) file on GitHub. A CSV file is a text file used to store data in a tabular format. You will use `.read_csv()` function from pandas to read this file and assign it to `gapminder`:\n\n```{python}\n\ngapminder = pd.read_csv(\"https://raw.githubusercontent.com/aubreympungose/data-science-course/main/weeks/data/gapminder.csv\")\n\n# Take a look at the first observation of the data\ngapminder.head()\n```\n\nWe have loaded the dataset. You can see columns and rows.\n\n```{python}\ngapminder.info()\n```\n\nWe can see that `gapminder` has 6 columns and 1704 rows. The columns in the dataset are:\n\n- country: Simply the country\n\n- continent: Continent\n\n- year: The year data was collected\n\n- lifeExp: Life expectancy of a country in year\n\n- pop: Population of the country in a year\n\n- gdpPercap: Gross Domestic Product of a country in a year\n\nIt is a time series data that track countries. Look at the range of years:\n\n```{python}\nprint(gapminder[\"year\"].min())\n\nprint(gapminder[\"year\"].max())\n```\n\nThe datasets contain observations collected from 1952 to 2007. \n\n\n### A first plot\n\nSuppose you want to show relationship between life expectancy and GDP per capita. We can create a scatterplot:\n\n```{python}\nplt.scatter(x = gapminder[\"gdpPercap\"], y = gapminder[\"lifeExp\"])\n\nplt.show()\n```\n\nWe have created a first plot. Let examine the code above:\n\n- We used `scatter()` function from pylot sub-package of matplotlib\n\n- We specified that we need the to plot two columns: `gdpPercap` on x-axis and `lifeExp` on the y-axis. \n\n- We then used `.show()` function from pyplot to show the plot. \n\n### Labels\n\nNotice that our first plot does not have any labels on the both axis, and also does not have a title. We can add all of these:\n\n```{python}\nplt.scatter(x = gapminder[\"gdpPercap\"], y = gapminder[\"lifeExp\"])\n\n# Set x-axis labels \nplt.xlabel('GDP per capita')\n\n# Set y-axis\nplt.ylabel('Life expectancy')\n\n# set title of the plot\nplt.title('GDP vs Life Expectancy (1952-2007)')\n\n# show the plot\n\nplt.show()\n```\n\n### Transforming axis scales\n\nNotice that x-axis is not normally distributed. One of the method to use is to transform data to log10, to normnalise it:\n\n```{python}\nplt.scatter(x = gapminder[\"gdpPercap\"], y = gapminder[\"lifeExp\"])\n\nplt.xlabel('GDP per capita')\n\nplt.ylabel('Life expectancy')\n\nplt.title('GDP vs Life Expectancy (1952-2007)')\n\n# Apply log scale to x-axis\nplt.xscale('log')\n\n\nplt.show()\n```\n\n\n### Customise: colour, size, shape\n\nSometimes you may need to change how variables/data point appear. Suppose you want to make all the countries belonging to each continent to be of same colour. Here, you would need to create a dictionary where each continent name is a key and colour as a value, then create a plot\n\n\n```{python}\ncolour_dict = {\n    'Asia':'red',\n    'Europe':'green',\n    'Africa':'blue',\n    'Americas':'yellow',\n    'Oceania':'black'\n}\n\ncolors = [colour_dict[continent] for continent in gapminder['continent']]\n\nplt.scatter(gapminder['gdpPercap'], gapminder['lifeExp'], c=colors)\n\nplt.xlabel('GDP per capita')\n\nplt.ylabel('Life expectancy')\n\nplt.title('GDP vs Life Expectancy (1952-2007)')\n\nplt.xscale('log')\n\n\nplt.show()\n```"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":"auto","echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"engine":"jupyter"},"render":{"keep-tex":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":true,"code-line-numbers":true,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true,"format-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","filters":["../include-files.lua","quarto"],"css":["../styles.css"],"toc":true,"output-file":"week-2.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.3.433","theme":{"light":"cosmo","dark":["cosmo","../theme-dark.scss"]},"code-background":true,"code-copy":true,"title":"3 Data Visualisation","tidy":true,"code-annotations":true},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}