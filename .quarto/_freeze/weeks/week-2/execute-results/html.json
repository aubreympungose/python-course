{
  "hash": "e3e4c2441b4af395e4f49c8839a16588",
  "result": {
    "markdown": "---\ntitle: \"3 Data Visualisation\"\ncode-copy: true\ncode-line-numbers: true\ntidy: true\ncode-annotations: true\n---\n\n## 3.1 Introduction to data visualisation\n\nData visualisation is an important skill for data scientists. In fact, data manipulation and visualisations go hand in hand. Before any analysis, it is important to visualise data to explore its distribution, relationships, normality, etc.\n\nWe will be working with `matplotlib` library within Python for data visualistion. Although there are many other packages, `matplotlib` is the foundational library. Thus it is important to master `matplotlib` first before exploring other advanced libraries. You can import matplotlib as follows. We will also need the pandas package to read data:\n\n::: {.cell execution_count=1}\n``` {.python .cell-code}\nimport matplotlib.pyplot as plt\n\nimport pandas as pd\n```\n:::\n\n\nWe will be working with the `gapminder` dataset, which is the real world data. I have saved this data as a CSV (comma-separated values) file on GitHub. A CSV file is a text file used to store data in a tabular format. You will use `.read_csv()` function from pandas to read this file and assign it to `gapminder`:\n\n::: {.cell execution_count=2}\n``` {.python .cell-code}\ngapminder = pd.read_csv(\"https://raw.githubusercontent.com/aubreympungose/data-science-course/main/weeks/data/gapminder.csv\")\n\n# Take a look at the first observation of the data\ngapminder.head()\n```\n\n::: {.cell-output .cell-output-display execution_count=2}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>country</th>\n      <th>continent</th>\n      <th>year</th>\n      <th>lifeExp</th>\n      <th>pop</th>\n      <th>gdpPercap</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>Afghanistan</td>\n      <td>Asia</td>\n      <td>1952</td>\n      <td>28.801</td>\n      <td>8425333</td>\n      <td>779.445314</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>Afghanistan</td>\n      <td>Asia</td>\n      <td>1957</td>\n      <td>30.332</td>\n      <td>9240934</td>\n      <td>820.853030</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>Afghanistan</td>\n      <td>Asia</td>\n      <td>1962</td>\n      <td>31.997</td>\n      <td>10267083</td>\n      <td>853.100710</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>Afghanistan</td>\n      <td>Asia</td>\n      <td>1967</td>\n      <td>34.020</td>\n      <td>11537966</td>\n      <td>836.197138</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>Afghanistan</td>\n      <td>Asia</td>\n      <td>1972</td>\n      <td>36.088</td>\n      <td>13079460</td>\n      <td>739.981106</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\nWe have loaded the dataset. You can see columns and rows.\n\n::: {.cell execution_count=3}\n``` {.python .cell-code}\ngapminder.info()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n<class 'pandas.core.frame.DataFrame'>\nRangeIndex: 1704 entries, 0 to 1703\nData columns (total 6 columns):\n #   Column     Non-Null Count  Dtype  \n---  ------     --------------  -----  \n 0   country    1704 non-null   object \n 1   continent  1704 non-null   object \n 2   year       1704 non-null   int64  \n 3   lifeExp    1704 non-null   float64\n 4   pop        1704 non-null   int64  \n 5   gdpPercap  1704 non-null   float64\ndtypes: float64(2), int64(2), object(2)\nmemory usage: 80.0+ KB\n```\n:::\n:::\n\n\nWe can see that `gapminder` has 6 columns and 1704 rows. The columns in the dataset are:\n\n- country: Simply the country\n\n- continent: Continent\n\n- year: The year data was collected\n\n- lifeExp: Life expectancy of a country in year\n\n- pop: Population of the country in a year\n\n- gdpPercap: Gross Domestic Product of a country in a year\n\nIt is a time series data that track countries. Look at the range of years:\n\n::: {.cell execution_count=4}\n``` {.python .cell-code}\nprint(gapminder[\"year\"].min())\n\nprint(gapminder[\"year\"].max())\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n1952\n2007\n```\n:::\n:::\n\n\nThe datasets contain observations collected from 1952 to 2007. \n\n\n### A first plot\n\nSuppose you want to show relationship between life expectancy and GDP per capita. We can create a scatterplot:\n\n::: {.cell execution_count=5}\n``` {.python .cell-code}\nplt.scatter(x = gapminder[\"gdpPercap\"], y = gapminder[\"lifeExp\"])\n\nplt.show()\n```\n\n::: {.cell-output .cell-output-display}\n![](week-2_files/figure-html/cell-6-output-1.png){width=566 height=404}\n:::\n:::\n\n\nWe have created a first plot. Let examine the code above:\n\n- We used `scatter()` function from pylot sub-package of matplotlib\n\n- We specified that we need the to plot two columns: `gdpPercap` on x-axis and `lifeExp` on the y-axis. \n\n- We then used `.show()` function from pyplot to show the plot. \n\n### Labels\n\nNotice that our first plot does not have any labels on the both axis, and also does not have a title. We can add all of these:\n\n::: {.cell execution_count=6}\n``` {.python .cell-code}\nplt.scatter(x = gapminder[\"gdpPercap\"], y = gapminder[\"lifeExp\"])\n\n# Set x-axis labels \nplt.xlabel('GDP per capita')\n\n# Set y-axis\nplt.ylabel('Life expectancy')\n\n# set title of the plot\nplt.title('GDP vs Life Expectancy (1952-2007)')\n\n# show the plot\n\nplt.show()\n```\n\n::: {.cell-output .cell-output-display}\n![](week-2_files/figure-html/cell-7-output-1.png){width=585 height=442}\n:::\n:::\n\n\n### Transforming axis scales\n\nNotice that x-axis is not normally distributed. One of the method to use is to transform data to log10, to normnalise it:\n\n::: {.cell execution_count=7}\n``` {.python .cell-code}\nplt.scatter(x = gapminder[\"gdpPercap\"], y = gapminder[\"lifeExp\"])\n\nplt.xlabel('GDP per capita')\n\nplt.ylabel('Life expectancy')\n\nplt.title('GDP vs Life Expectancy (1952-2007)')\n\n# Apply log scale to x-axis\nplt.xscale('log')\n\n\nplt.show()\n```\n\n::: {.cell-output .cell-output-display}\n![](week-2_files/figure-html/cell-8-output-1.png){width=585 height=444}\n:::\n:::\n\n\n### Customise: colour, size, shape\n\nSometimes you may need to change how variables/data point appear. Suppose you want to make all the countries belonging to each continent to be of same colour. Here, you would need to create a dictionary where each continent name is a key and colour as a value, then create a plot\n\n::: {.cell execution_count=8}\n``` {.python .cell-code}\ncolour_dict = {\n    'Asia':'red',\n    'Europe':'green',\n    'Africa':'blue',\n    'Americas':'yellow',\n    'Oceania':'black'\n}\n\ncolors = [colour_dict[continent] for continent in gapminder['continent']]\n\nplt.scatter(gapminder['gdpPercap'], gapminder['lifeExp'], c=colors)\n\nplt.xlabel('GDP per capita')\n\nplt.ylabel('Life expectancy')\n\nplt.title('GDP vs Life Expectancy (1952-2007)')\n\nplt.xscale('log')\n\n\nplt.show()\n```\n\n::: {.cell-output .cell-output-display}\n![](week-2_files/figure-html/cell-9-output-1.png){width=585 height=444}\n:::\n:::\n\n\n",
    "supporting": [
      "week-2_files\\figure-html"
    ],
    "filters": [],
    "includes": {
      "include-in-header": [
        "<script src=\"https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js\" integrity=\"sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==\" crossorigin=\"anonymous\"></script>\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js\" integrity=\"sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==\" crossorigin=\"anonymous\"></script>\n<script type=\"application/javascript\">define('jquery', [],function() {return window.jQuery;})</script>\n"
      ]
    }
  }
}